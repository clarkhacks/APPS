<!-- This website is the property of Clark Weckmann III. Do not "borrow", steal, or claim this code as your own. You may use this code in open-source projects or for reference with proper citation. Be honest and pass it on. Thank you <3 -->
<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://clarkhacks.com/a/css/fonts.css">
    <link rel="stylesheet" href="styles.css">
    <link rel="shortcut icon" href="https://clarkhacks.com/a/img/favicon.ico">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="cleartype" content="on">
    <meta name="MobileOptimized" content="320">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Short Url • Clark Hacks</title>
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
</head>

<body id="page-top" class="ch-homepage">
    <main id="main" class="panel">
        <header class="panel-header">
            <h1 class="title">Url Shortener</h1>
            <h2 class="subtitle">clkhx.gp</h2>
        </header>
        <div class="container">
            <section class="box no-shadow">
                <div class="box-content">
                    <input type="text" id="longUrl" placeholder="Long Url">
                </div>
            </section>
            <section class="box no-shadow">
                <div class="box-content">
                    <h2>Your Short Url:</h2><span id="shortUrl"></span>
                </div>
            </section>
        </div>
        <footer class="panel-footer">
            <p>&lt;/&gt with <span class="heart">❤</span> by ClarkHacks</p>
        </footer>
    </main>
    <script type="text/javascript">
    $('#longUrl').keyup(function(e){
    if(e.keyCode == 13)
    {
      destinationVal = $('#longUrl').text();
      $.ajax({
        url: "https://api.rebrandly.com/v1/links/",
        type: "post",
        data: JSON.stringify({
              "destination" : destinationVal
            , "domain": { "fullName": "rebrand.ly" }
          //, "slashtag": "A_NEW_SLASHTAG"
          //, "title": "Rebrandly YouTube channel"
        }),
        headers: {
          "Content-Type": "application/json",
          "apikey": "faa6113eb476435986faf3870d034241"
        },
        dataType: "json",
        success: function (link) {
          console.log("Long URL was "+link.destination+", short URL is "+link.shortUrl);
        }
      });
    }
});

    </script>
</body>

</html>
